schema: '2.0'
stages:
  data_ingestion:
    cmd: python app_src/data/ingestion.py
    deps:
    - path: app_src/data/ingestion.py
      hash: md5
      md5: 6ec7109770e99844a65d5c3a53f01aea
      size: 7946
    - path: app_src/entity/artifact_entity.py
      hash: md5
      md5: 2f89fa0879e70a70ad29455ad285236f
      size: 1052
    - path: app_src/entity/config_entity.py
      hash: md5
      md5: 796518cb61e3d1f4beb0e2aa24ca1c99
      size: 2823
    outs:
    - path: data/external
      hash: md5
      md5: 5ef6281ce19babb5066fa285fa3df18e.dir
      size: 29291465
      nfiles: 2
  data_cleaning:
    cmd: python app_src/data/cleaning.py
    deps:
    - path: app_src/data/cleaning.py
      hash: md5
      md5: 0bf49743574ea452743cb713ae8a2379
      size: 7474
    - path: app_src/entity/artifact_entity.py
      hash: md5
      md5: 2f89fa0879e70a70ad29455ad285236f
      size: 1052
    - path: app_src/entity/config_entity.py
      hash: md5
      md5: 796518cb61e3d1f4beb0e2aa24ca1c99
      size: 2823
    outs:
    - path: data/raw/Ml_books.csv
      hash: md5
      md5: b5ef50eefef8efd78c82fbced055441e
      size: 4846156
    - path: data/raw/all_papers.csv
      hash: md5
      md5: fe787ed9bbc648435406654f87fa6848
      size: 2107889
  build_features:
    cmd: python app_src/data/build_features.py
    deps:
    - path: app_src/data/build_features.py
      hash: md5
      md5: 4b2fb54f60e462e29ff82c9f95c7a548
      size: 14125
    - path: app_src/entity/artifact_entity.py
      hash: md5
      md5: 2f89fa0879e70a70ad29455ad285236f
      size: 1052
    - path: app_src/entity/config_entity.py
      hash: md5
      md5: 796518cb61e3d1f4beb0e2aa24ca1c99
      size: 2823
    - path: data/raw/Ml_books.csv
      hash: md5
      md5: b5ef50eefef8efd78c82fbced055441e
      size: 4846156
    - path: data/raw/all_papers.csv
      hash: md5
      md5: fe787ed9bbc648435406654f87fa6848
      size: 2107889
    outs:
    - path: data/interim/modified_books.csv
      hash: md5
      md5: 6fc59f9275f088fc49e7e995d3223169
      size: 9100749
    - path: data/interim/modified_papers.csv
      hash: md5
      md5: 28b0971943adfa0b8017bdbe46ad536b
      size: 3949690
  model_trainer:
    cmd: python src/models/model1/model.py
    deps:
    - path: data/interim/modified_books.csv
      hash: md5
      md5: 82690fc69c70cf2a9dcbca50935b7ec8
      size: 16687625
    - path: data/interim/modified_papers.csv
      hash: md5
      md5: 5abb85274b7163161e53d7820f327a3f
      size: 4927558
    - path: src/data/build_features.py
      hash: md5
      md5: 293a333ff16b61080ab3116264ebbbbe
      size: 14093
    - path: src/entity/artifact_entity.py
      hash: md5
      md5: f0cd85d854fbe1503bbab763ec1c6865
      size: 861
    - path: src/entity/config_entity.py
      hash: md5
      md5: 1dbdce3a16b76343dd2c8aabdc431bb2
      size: 2309
    - path: src/models/model1/model.py
      hash: md5
      md5: c10a0ab7241aba098d8c9616bd0e736c
      size: 6878
    outs:
    - path: data/processed/matrices
      hash: md5
      md5: 9ae00e466a77b1fad3e972d8d4f49b37.dir
      size: 4357166
      nfiles: 2
    - path: data/processed/models
      hash: md5
      md5: 66376b4c4ed427cc4d604b220974f3bd.dir
      size: 377066
      nfiles: 2
  prediction:
    cmd: python src/models/model1/predict.py "machine learning" > 
      data/processed/predictions.json
    deps:
    - path: data/interim/modified_books.csv
      hash: md5
      md5: 82690fc69c70cf2a9dcbca50935b7ec8
      size: 16687625
    - path: data/interim/modified_papers.csv
      hash: md5
      md5: 5abb85274b7163161e53d7820f327a3f
      size: 4927558
    - path: data/processed/matrices
      hash: md5
      md5: 9ae00e466a77b1fad3e972d8d4f49b37.dir
      size: 4357166
      nfiles: 2
    - path: data/processed/models
      hash: md5
      md5: 66376b4c4ed427cc4d604b220974f3bd.dir
      size: 377066
      nfiles: 2
    - path: src/entity/artifact_entity.py
      hash: md5
      md5: f0cd85d854fbe1503bbab763ec1c6865
      size: 861
    - path: src/entity/config_entity.py
      hash: md5
      md5: 1dbdce3a16b76343dd2c8aabdc431bb2
      size: 2309
    - path: src/models/model1/model.py
      hash: md5
      md5: c10a0ab7241aba098d8c9616bd0e736c
      size: 6878
    - path: src/models/model1/predict.py
      hash: md5
      md5: cebc175a01f6ac5cb7a5466a0f22fc13
      size: 5241
    outs:
    - path: data/processed/predictions.json
      hash: md5
      md5: 92cc6c32a58a71c4a217718149107cdd
      size: 9034
  sentence_transformer_model_trainer:
    cmd: python app_src/models/model2/train.py
    deps:
    - path: app_src/data/build_features.py
      hash: md5
      md5: 4b2fb54f60e462e29ff82c9f95c7a548
      size: 14125
    - path: app_src/entity/artifact_entity.py
      hash: md5
      md5: 2f89fa0879e70a70ad29455ad285236f
      size: 1052
    - path: app_src/entity/config_entity.py
      hash: md5
      md5: 796518cb61e3d1f4beb0e2aa24ca1c99
      size: 2823
    - path: app_src/models/model2/model.py
      hash: md5
      md5: 2f7dd8a976d1a764986c2eb69c384e9a
      size: 9414
    - path: data/interim/modified_books.csv
      hash: md5
      md5: 6fc59f9275f088fc49e7e995d3223169
      size: 9100749
    - path: data/interim/modified_papers.csv
      hash: md5
      md5: 28b0971943adfa0b8017bdbe46ad536b
      size: 3949690
    outs:
    - path: data/processed/matrices
      hash: md5
      md5: 0a330bc4dcf9031b28f20dae0442e79c.dir
      size: 10491136
      nfiles: 2
