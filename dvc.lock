schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/ingestion.py
    deps:
    - path: src/data/ingestion.py
      hash: md5
      md5: e56d1a6a01289e21b260c38137a3efa0
      size: 7906
    - path: src/entity/artifact_entity.py
      hash: md5
      md5: 2f89fa0879e70a70ad29455ad285236f
      size: 1052
    - path: src/entity/config_entity.py
      hash: md5
      md5: f6a8f6c75c19678005120a8a50ba8e34
      size: 2815
    outs:
    - path: data/external
      hash: md5
      md5: 20d73792309b867204c4783a53f83d5b.dir
      size: 88779860
      nfiles: 2
  data_cleaning:
    cmd: python src/data/cleaning.py
    deps:
    - path: src/data/cleaning.py
      hash: md5
      md5: c19d32e63a9aa8c01924b41e19e8b1f5
      size: 7434
    - path: src/entity/artifact_entity.py
      hash: md5
      md5: 2f89fa0879e70a70ad29455ad285236f
      size: 1052
    - path: src/entity/config_entity.py
      hash: md5
      md5: f6a8f6c75c19678005120a8a50ba8e34
      size: 2815
    outs:
    - path: data/raw/Ml_books.csv
      hash: md5
      md5: 01a98a90d0c8c753b83b2e784fc1e80b
      size: 6165905
    - path: data/raw/all_papers.csv
      hash: md5
      md5: 1d0a842dc52aa5f11fd9e0763254478e
      size: 1132940
  build_features:
    cmd: python src/data/build_features.py
    deps:
    - path: data/raw/Ml_books.csv
      hash: md5
      md5: 01a98a90d0c8c753b83b2e784fc1e80b
      size: 6165905
    - path: data/raw/all_papers.csv
      hash: md5
      md5: 1d0a842dc52aa5f11fd9e0763254478e
      size: 1132940
    - path: src/data/build_features.py
      hash: md5
      md5: 293a333ff16b61080ab3116264ebbbbe
      size: 14093
    - path: src/entity/artifact_entity.py
      hash: md5
      md5: 2f89fa0879e70a70ad29455ad285236f
      size: 1052
    - path: src/entity/config_entity.py
      hash: md5
      md5: f6a8f6c75c19678005120a8a50ba8e34
      size: 2815
    outs:
    - path: data/interim/modified_books.csv
      hash: md5
      md5: a0341c3ea1f077339699f0c83e3a7645
      size: 11564013
    - path: data/interim/modified_papers.csv
      hash: md5
      md5: c77963ae773aae0cbfb139c9a50fd83b
      size: 2119373
  model_trainer:
    cmd: python src/models/model1/model.py
    deps:
    - path: data/interim/modified_books.csv
      hash: md5
      md5: 82690fc69c70cf2a9dcbca50935b7ec8
      size: 16687625
    - path: data/interim/modified_papers.csv
      hash: md5
      md5: 5abb85274b7163161e53d7820f327a3f
      size: 4927558
    - path: src/data/build_features.py
      hash: md5
      md5: 293a333ff16b61080ab3116264ebbbbe
      size: 14093
    - path: src/entity/artifact_entity.py
      hash: md5
      md5: f0cd85d854fbe1503bbab763ec1c6865
      size: 861
    - path: src/entity/config_entity.py
      hash: md5
      md5: 1dbdce3a16b76343dd2c8aabdc431bb2
      size: 2309
    - path: src/models/model1/model.py
      hash: md5
      md5: c10a0ab7241aba098d8c9616bd0e736c
      size: 6878
    outs:
    - path: data/processed/matrices
      hash: md5
      md5: 9ae00e466a77b1fad3e972d8d4f49b37.dir
      size: 4357166
      nfiles: 2
    - path: data/processed/models
      hash: md5
      md5: 66376b4c4ed427cc4d604b220974f3bd.dir
      size: 377066
      nfiles: 2
  prediction:
    cmd: python src/models/model1/predict.py "machine learning" > 
      data/processed/predictions.json
    deps:
    - path: data/interim/modified_books.csv
      hash: md5
      md5: 82690fc69c70cf2a9dcbca50935b7ec8
      size: 16687625
    - path: data/interim/modified_papers.csv
      hash: md5
      md5: 5abb85274b7163161e53d7820f327a3f
      size: 4927558
    - path: data/processed/matrices
      hash: md5
      md5: 9ae00e466a77b1fad3e972d8d4f49b37.dir
      size: 4357166
      nfiles: 2
    - path: data/processed/models
      hash: md5
      md5: 66376b4c4ed427cc4d604b220974f3bd.dir
      size: 377066
      nfiles: 2
    - path: src/entity/artifact_entity.py
      hash: md5
      md5: f0cd85d854fbe1503bbab763ec1c6865
      size: 861
    - path: src/entity/config_entity.py
      hash: md5
      md5: 1dbdce3a16b76343dd2c8aabdc431bb2
      size: 2309
    - path: src/models/model1/model.py
      hash: md5
      md5: c10a0ab7241aba098d8c9616bd0e736c
      size: 6878
    - path: src/models/model1/predict.py
      hash: md5
      md5: cebc175a01f6ac5cb7a5466a0f22fc13
      size: 5241
    outs:
    - path: data/processed/predictions.json
      hash: md5
      md5: 92cc6c32a58a71c4a217718149107cdd
      size: 9034
  sentence_transformer_model_trainer:
    cmd: python src/models/model2/train.py
    deps:
    - path: data/interim/modified_books.csv
      hash: md5
      md5: a0341c3ea1f077339699f0c83e3a7645
      size: 11564013
    - path: data/interim/modified_papers.csv
      hash: md5
      md5: c77963ae773aae0cbfb139c9a50fd83b
      size: 2119373
    - path: src/data/build_features.py
      hash: md5
      md5: 293a333ff16b61080ab3116264ebbbbe
      size: 14093
    - path: src/entity/artifact_entity.py
      hash: md5
      md5: 2f89fa0879e70a70ad29455ad285236f
      size: 1052
    - path: src/entity/config_entity.py
      hash: md5
      md5: f6a8f6c75c19678005120a8a50ba8e34
      size: 2815
    - path: src/models/model2/model.py
      hash: md5
      md5: 1b479f6e9ffbe1d2008bf2a7dd3c4547
      size: 9103
    outs:
    - path: data/processed/matrices
      hash: md5
      md5: 6b94cce1f43dda64f7c37ddeb974a356.dir
      size: 11097856
      nfiles: 2
